<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ODA ‚Äì Fracciones y decimales: 1/2, 1/4, 3/4, 1/5, 1/8 (Din√°mica)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root{
      --primary:#1d4ed8;
      --primary-soft:#dbeafe;
      --accent:#0ea5e9;
      --text:#0f172a;
      --muted:#6b7280;
      --border:#e5e7eb;
      --card:#ffffff;
      --shadow:0 16px 35px rgba(15,23,42,.18);
      --error:#b91c1c;
      --success:#15803d;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
      background:linear-gradient(180deg,#e0f2fe 0,#eff6ff 40%,#f9fafb 100%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      justify-content:center;
      padding:14px 10px;
      position:relative;
    }
    body::before{
      content:"";
      position:fixed;
      inset:12% 16%;
      background:url("escudo_escuela.png") center/contain no-repeat;
      opacity:.03;
      pointer-events:none;
      z-index:0;
    }
    .school-logo-fixed{
      position:fixed;
      right:16px;
      bottom:10px;
      height:86px;
      opacity:0.95;
      z-index:5;
      pointer-events:none;
    }
    .wrapper{
      position:relative;
      z-index:1;
      width:100%;
      max-width:1180px;
      background:radial-gradient(circle at top left,#dbeafe 0,#ffffff 45%,#eff6ff 100%);
      border-radius:26px;
      box-shadow:var(--shadow);
      padding:14px 16px 16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      border:1px solid #bfdbfe;
    }
    header{
      display:grid;
      grid-template-columns:auto minmax(0,2.3fr) auto;
      gap:10px;
      align-items:center;
      padding-bottom:8px;
      border-bottom:1px solid #dbeafe;
    }
    @media(max-width:900px){
      header{grid-template-columns:1fr;text-align:center;}
      .author-block{text-align:center;}
    }
    .logo-left img{
      max-height:60px;
      width:auto;
      display:block;
    }
    @media(max-width:900px){
      .logo-left{display:flex;justify-content:center;}
    }
    .title-block h1{
      margin:0;
      font-size:1.22rem;
      display:flex;
      align-items:center;
      gap:8px;
      flex-wrap:wrap;
    }
    .title-block h1 .icon{font-size:1.45rem;}
    .title-meta{
      margin-top:3px;
      font-size:.84rem;
      color:var(--muted);
    }
    .phase-label{
      display:inline-flex;
      align-items:center;
      gap:4px;
      padding:2px 8px;
      border-radius:999px;
      background:var(--primary-soft);
      color:var(--primary);
      margin-top:3px;
    }
    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:4px;
      font-size:.78rem;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:5px;
      padding:2px 8px;
      border-radius:999px;
      background:#eff6ff;
      border:1px solid #dbeafe;
    }
    .chip .dot{
      width:7px;height:7px;border-radius:999px;background:#22c55e;
    }
    .author-block{
      font-size:.82rem;
      color:var(--muted);
      text-align:right;
    }

    main{
      display:grid;
      grid-template-columns:minmax(0,1.7fr) minmax(0,1fr);
      gap:10px;
      margin-top:2px;
    }
    @media(max-width:900px){
      main{grid-template-columns:1fr;}
    }
    .left-column,.right-column{
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .card{
      background:var(--card);
      border-radius:18px;
      border:1px solid #e5e7eb;
      box-shadow:0 8px 20px rgba(15,23,42,.06);
      overflow:hidden;
    }
    .card-header{
      padding:8px 12px 6px;
      border-bottom:1px solid #e5e7eb;
      background:linear-gradient(90deg,#dbeafe,#eff6ff);
    }
    .card-title{
      display:flex;
      align-items:center;
      gap:6px;
      font-size:.9rem;
      font-weight:600;
      color:#0f172a;
    }
    .card-title .icon{font-size:1.05rem;}
    .card-body{
      padding:8px 12px 10px;
      font-size:.84rem;
    }

    .objective-list{
      padding-left:18px;
      margin:6px 0;
    }
    .objective-list li{margin-bottom:3px;}

    .timeline{
      margin-top:6px;
      border-radius:12px;
      border:1px dashed #bfdbfe;
      background:#eff6ff;
      padding:6px 8px;
      font-size:.8rem;
    }
    .timeline-item{
      display:flex;
      gap:6px;
      margin-bottom:3px;
    }
    .timeline-label{
      font-weight:600;
      color:var(--primary);
      min-width:97px;
    }

    .module-nav{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:8px;
    }
    .module-button{
      flex:1 1 120px;
      border-radius:999px;
      border:1px solid #bfdbfe;
      background:#eff6ff;
      padding:5px 8px;
      font-size:.78rem;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:5px;
      cursor:pointer;
      transition:.15s;
    }
    .module-button span.icon{font-size:.95rem;}
    .module-button.active{
      background:var(--primary);
      color:#fff;
      border-color:var(--primary);
      box-shadow:0 0 0 1px rgba(37,99,235,.6);
    }

    .module-panel{display:none;}
    .module-panel.active{display:block;}

    .status{
      margin-top:6px;
      border-radius:10px;
      padding:6px 8px;
      display:flex;
      gap:6px;
      font-size:.8rem;
      align-items:flex-start;
    }
    .status span{font-size:1rem;}
    .status-info{
      background:#eff6ff;
      border:1px solid #bfdbfe;
      color:#1e3a8a;
    }
    .status-success{
      background:#dcfce7;
      border:1px solid #22c55e;
      color:#166534;
    }
    .status-error{
      background:#fee2e2;
      border:1px solid #f97373;
      color:#991b1b;
    }

    .btn-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:6px;
    }
    .btn{
      border-radius:999px;
      border:none;
      padding:5px 10px;
      font-size:.8rem;
      display:inline-flex;
      align-items:center;
      gap:5px;
      cursor:pointer;
      white-space:nowrap;
    }
    .btn-primary{background:var(--primary);color:#fff;}
    .btn-secondary{background:#e5e7eb;color:#111827;}
    .btn-outline{
      background:#fff;
      border:1px solid #cbd5f5;
      color:#1e3a8a;
    }

    .options-list{
      list-style:none;
      padding-left:0;
      margin:6px 0;
      font-size:.8rem;
    }
    .options-list li{margin-bottom:4px;}
    .options-list label{
      display:flex;
      align-items:flex-start;
      gap:4px;
      cursor:pointer;
    }

    .convert-table, .mix-table{
      width:100%;
      border-collapse:collapse;
      margin-top:4px;
      font-size:.8rem;
    }
    .convert-table th, .convert-table td,
    .mix-table th, .mix-table td{
      border:1px solid #e5e7eb;
      padding:4px 6px;
      text-align:center;
    }
    .convert-table th, .mix-table th{
      background:#eff6ff;
      font-weight:600;
    }

    .convert-input{
      width:90px;
      padding:3px 4px;
      border-radius:999px;
      border:1px solid #cbd5f5;
      font-size:.78rem;
      text-align:center;
    }

    .mix-select{
      width:120px;
      padding:3px 4px;
      border-radius:999px;
      border:1px solid #cbd5f5;
      font-size:.78rem;
    }

    .student-card .student-row{
      display:flex;
      flex-direction:column;
      gap:3px;
      margin-bottom:6px;
    }
    .student-card input[type="text"]{
      padding:5px 7px;
      border-radius:999px;
      border:1px solid #cbd5f5;
      font-size:.82rem;
      width:100%;
    }

    .avatar-card{
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .avatar-circle{
      width:120px;
      height:auto;
      background:#eff6ff;
      border:1px solid #bfdbfe;
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:18px;
      overflow:visible;
      flex-shrink:0;
    }
    .avatar-circle img{
      width:100%;
      height:auto;
      object-fit:contain;
      display:block;
    }
    .avatar-text{
      font-size:.8rem;
      color:#374151;
    }
    .avatar-steps{
      margin:4px 0;
      padding-left:18px;
    }
    .avatar-steps li{margin-bottom:3px;}
    .badge-step{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:16px;
      height:16px;
      border-radius:999px;
      background:#1d4ed8;
      color:#fff;
      font-size:.7rem;
      margin-right:4px;
    }

    footer{
      margin-top:4px;
      padding-top:7px;
      border-top:1px solid #dbeafe;
      font-size:.78rem;
      color:#6b7280;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:6px;
    }
    footer .project{
      font-style:italic;
      color:#4b5563;
    }
  </style>
</head>
<body>
  <img src="escudo_escuela.png" alt="Escudo escuela" class="school-logo-fixed">

  <div class="wrapper">
    <header>
      <div class="logo-left">
        <img src="sep_logo.png" alt="Secretar√≠a de Educaci√≥n P√∫blica">
      </div>
      <div class="title-block">
        <h1>
          <span class="icon">‚ûó</span>
          <span>Fracciones y decimales: 1/2, 1/4, 3/4, 1/5, 1/8 ‚Äì Pensamiento Matem√°tico (Din√°mica)</span>
        </h1>
        <div class="title-meta">
          Contenido: <strong>Estudio de los n√∫meros.</strong><br>
          PDA 5.¬∫: <strong>Reconoce, interpreta y utiliza las fracciones 1/2, 1/4, 3/4, 1/5 y 1/8 expresadas en notaci√≥n decimal y viceversa en diferentes contextos.</strong><br>
          <span class="phase-label">Pensamiento Matem√°tico ¬∑ Fase 5 ¬∑ 5.¬∫ grado</span>
        </div>
        <div class="chips">
          <span class="chip"><span class="dot"></span>Campo formativo: Saberes y Pensamiento Matem√°tico</span>
          <span class="chip">Proyecto: <strong>N√∫meros que cuentan historias</strong></span>
        </div>
      </div>
      <div class="author-block">
        <strong>Autor: Mtro. Mart√≠n Reta</strong><br>
        Escuela Primaria ‚ÄúGral. L√°zaro C√°rdenas‚Äù<br>
        Ejido Santa Mar√≠a, Pesquer√≠a, N.L.
      </div>
    </header>

    <main>
      <!-- COLUMNA IZQUIERDA -->
      <section class="left-column">
        <!-- Prop√≥sito -->
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="icon">üéØ</span>
              <span>Prop√≥sito de la ODA</span>
            </div>
          </div>
          <div class="card-body">
            Al finalizar esta ODA, las y los estudiantes ser√°n capaces de <strong>relacionar fracciones y decimales</strong>
            en los casos especiales: <strong>1/2, 1/4, 3/4, 1/5 y 1/8</strong>, y utilizarlos para resolver situaciones de la vida diaria
            (dinero, medidas, repartos, etc.).
            <ul class="objective-list">
              <li>Reconocer qu√© decimal corresponde a las fracciones 1/2, 1/4, 3/4, 1/5 y 1/8.</li>
              <li>Escribir una fracci√≥n dada en forma decimal y un decimal dado en forma de fracci√≥n.</li>
              <li>Utilizar la equivalencia fracci√≥n‚Äìdecimal en diferentes contextos.</li>
              <li>Ver estos n√∫meros como herramientas √∫tiles para estimar y calcular.</li>
            </ul>
            <div class="timeline">
              <div class="timeline-item">
                <div class="timeline-label">1. Exploro</div>
                <div>Relaciono fracciones con sus decimales.</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-label">2. Convierto</div>
                <div>Practico pasar de fracci√≥n a decimal y al rev√©s.</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-label">3. Mezclo</div>
                <div>Reconozco equivalencias en diferentes formas.</div>
              </div>
              <div class="timeline-item">
                <div class="timeline-label">4. Aplico</div>
                <div>Uso fracciones y decimales en situaciones reales.</div>
              </div>
            </div>
          </div>
        </div>

        <!-- M√≥dulos -->
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="icon">üß©</span>
              <span>M√≥dulos de trabajo</span>
            </div>
          </div>
          <div class="card-body">
            <div class="module-nav">
              <button class="module-button active" data-module="explora">
                <span class="icon">üëÄ</span> Explora equivalencias
              </button>
              <button class="module-button" data-module="practica">
                <span class="icon">‚úèÔ∏è</span> Practica conversiones
              </button>
              <button class="module-button" data-module="mezcla">
                <span class="icon">üîÑ</span> Mezcla fracci√≥n‚Äìdecimal
              </button>
              <button class="module-button" data-module="evalua">
                <span class="icon">üìù</span> Aplica en contexto
              </button>
            </div>

            <!-- Panel 1: Explora -->
            <div id="panel-explora" class="module-panel active">
              <p>Elige la opci√≥n correcta en cada caso para relacionar fracciones y decimales.</p>
              <ol class="options-list">
                <li>
                  <div><strong>1)</strong> ¬øQu√© decimal corresponde a la fracci√≥n <strong>1/2</strong>?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ex1" value="a"> 0.25</label></li>
                    <li><label><input type="radio" name="ex1" value="b"> 0.2</label></li>
                    <li><label><input type="radio" name="ex1" value="c"> 0.5</label></li>
                    <li><label><input type="radio" name="ex1" value="d"> 0.75</label></li>
                  </ul>
                </li>
                <li>
                  <div><strong>2)</strong> ¬øQu√© fracci√≥n corresponde al decimal <strong>0.25</strong>?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ex2" value="a"> 1/5</label></li>
                    <li><label><input type="radio" name="ex2" value="b"> 1/4</label></li>
                    <li><label><input type="radio" name="ex2" value="c"> 3/4</label></li>
                    <li><label><input type="radio" name="ex2" value="d"> 1/8</label></li>
                  </ul>
                </li>
                <li>
                  <div><strong>3)</strong> ¬øQu√© decimal corresponde a la fracci√≥n <strong>3/4</strong>?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ex3" value="a"> 0.75</label></li>
                    <li><label><input type="radio" name="ex3" value="b"> 0.3</label></li>
                    <li><label><input type="radio" name="ex3" value="c"> 0.2</label></li>
                    <li><label><input type="radio" name="ex3" value="d"> 0.8</label></li>
                  </ul>
                </li>
                <li>
                  <div><strong>4)</strong> ¬øQu√© fracci√≥n corresponde al decimal <strong>0.125</strong>?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ex4" value="a"> 1/2</label></li>
                    <li><label><input type="radio" name="ex4" value="b"> 1/4</label></li>
                    <li><label><input type="radio" name="ex4" value="c"> 1/5</label></li>
                    <li><label><input type="radio" name="ex4" value="d"> 1/8</label></li>
                  </ul>
                </li>
              </ol>
              <div class="btn-row">
                <button class="btn btn-primary" id="btnCheckExplora">üìù Revisar respuestas</button>
                <button class="btn btn-secondary" id="btnResetExplora">‚Ü©Ô∏è Empezar de nuevo</button>
              </div>
              <div id="statusExplora" class="status status-info">
                <span>‚ÑπÔ∏è</span>
                <div>Elige una respuesta en cada pregunta y haz clic en <strong>‚ÄúRevisar respuestas‚Äù</strong>.</div>
              </div>
            </div>

            <!-- Panel 2: Practica conversiones -->
            <div id="panel-practica" class="module-panel">
              <p>Completa la tabla. A veces se da la fracci√≥n y escribes el decimal, y otras se da el decimal y escribes la fracci√≥n.</p>
              <table class="convert-table">
                <thead>
                  <tr>
                    <th>Dato</th>
                    <th>Escribe la representaci√≥n equivalente</th>
                  </tr>
                </thead>
                <tbody id="tablePracticaBody">
                  <!-- se llena con JS -->
                </tbody>
              </table>
              <div class="btn-row">
                <button class="btn btn-secondary" id="btnGenPractica">üîÑ Nuevas combinaciones</button>
                <button class="btn btn-primary" id="btnCheckPractica">‚úÖ Revisar</button>
                <button class="btn btn-secondary" id="btnResetPractica">‚Ü©Ô∏è Limpiar</button>
              </div>
              <div id="statusPractica" class="status status-info">
                <span>‚ÑπÔ∏è</span>
                <div>Escribe fracciones o decimales equivalentes y haz clic en <strong>‚ÄúRevisar‚Äù</strong>.</div>
              </div>
            </div>

            <!-- Panel 3: Mezcla fracci√≥n‚Äìdecimal -->
            <div id="panel-mezcla" class="module-panel">
              <p>En cada fila se muestra una fracci√≥n o un decimal. Elige en el cuadro la representaci√≥n equivalente.</p>
              <table class="mix-table">
                <thead>
                  <tr>
                    <th>Dato</th>
                    <th>Elige la equivalencia correcta</th>
                  </tr>
                </thead>
                <tbody id="tableMixBody">
                  <!-- se llena con JS -->
                </tbody>
              </table>
              <div class="btn-row">
                <button class="btn btn-secondary" id="btnGenMix">üîÑ Nuevas parejas</button>
                <button class="btn btn-primary" id="btnCheckMix">‚úÖ Revisar</button>
                <button class="btn btn-secondary" id="btnResetMix">‚Ü©Ô∏è Limpiar</button>
              </div>
              <div id="statusMix" class="status status-info">
                <span>‚ÑπÔ∏è</span>
                <div>Elige una opci√≥n en cada fila y haz clic en <strong>‚ÄúRevisar‚Äù</strong>.</div>
              </div>
            </div>

            <!-- Panel 4: Aplica en contexto -->
            <div id="panel-evalua" class="module-panel">
              <p>Resuelve las siguientes situaciones donde aparecen las fracciones y decimales trabajados.</p>
              <ol class="options-list">
                <li>
                  <div><strong>1)</strong> En una feria, Ana se comi√≥ <strong>1/4</strong> de una pizza y Luis se comi√≥ <strong>0.5</strong> de otra pizza igual.  
                  ¬øQui√©n comi√≥ m√°s pizza?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ev1" value="a"> Ana comi√≥ m√°s.</label></li>
                    <li><label><input type="radio" name="ev1" value="b"> Luis comi√≥ m√°s.</label></li>
                    <li><label><input type="radio" name="ev1" value="c"> Comieron lo mismo.</label></li>
                  </ul>
                </li>
                <li>
                  <div><strong>2)</strong> En la tiendita del ejido, una barra de chocolate cuesta <strong>$12.50</strong>.  
                  Si Pedro paga exactamente la <strong>mitad</strong> del precio, ¬øcu√°nto paga?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ev2" value="a"> $6.25</label></li>
                    <li><label><input type="radio" name="ev2" value="b"> $6.50</label></li>
                    <li><label><input type="radio" name="ev2" value="c"> $5.25</label></li>
                  </ul>
                </li>
                <li>
                  <div><strong>3)</strong> En educaci√≥n f√≠sica, el maestro pide a las y los alumnos que recorran <strong>0.2</strong> de kil√≥metro.  
                  ¬øQu√© fracci√≥n de kil√≥metro representa esa distancia?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ev3" value="a"> 1/2</label></li>
                    <li><label><input type="radio" name="ev3" value="b"> 1/4</label></li>
                    <li><label><input type="radio" name="ev3" value="c"> 1/5</label></li>
                  </ul>
                </li>
                <li>
                  <div><strong>4)</strong> Una receta de cocina indica que se use <strong>0.75</strong> de taza de az√∫car.  
                  ¬øCu√°l es la fracci√≥n equivalente?</div>
                  <ul class="options-list">
                    <li><label><input type="radio" name="ev4" value="a"> 1/4</label></li>
                    <li><label><input type="radio" name="ev4" value="b"> 3/4</label></li>
                    <li><label><input type="radio" name="ev4" value="c"> 1/8</label></li>
                  </ul>
                </li>
              </ol>
              <div class="btn-row">
                <button class="btn btn-primary" id="btnCheckEvalua">üìù Revisar respuestas</button>
                <button class="btn btn-secondary" id="btnResetEvalua">‚Ü©Ô∏è Empezar de nuevo</button>
              </div>
              <div id="statusEvalua" class="status status-info">
                <span>‚ÑπÔ∏è</span>
                <div>Responde todas las preguntas y haz clic en <strong>‚ÄúRevisar respuestas‚Äù</strong>.</div>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- COLUMNA DERECHA -->
      <section class="right-column">
        <!-- Datos del alumno -->
        <div class="card student-card">
          <div class="card-header">
            <div class="card-title">
              <span class="icon">üßë‚Äçüéì</span>
              <span>Datos del alumno y controles</span>
            </div>
          </div>
          <div class="card-body">
            <div class="student-row">
              <label for="studentName">Nombre del alumno(a):</label>
              <input type="text" id="studentName" placeholder="Escribe tu nombre aqu√≠">
            </div>
            <div class="btn-row">
              <button class="btn btn-outline" id="btnPrintResults">üñ®Ô∏è Imprimir resultados</button>
              <button class="btn btn-outline" id="btnPrintActivity">üìÑ Actividad para imprimir</button>
            </div>
          </div>
        </div>

        <!-- Avatar gu√≠a -->
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="icon">üßë‚Äçüè´</span>
              <span>Avatar gu√≠a ‚Äì Instrucciones</span>
            </div>
          </div>
          <div class="card-body avatar-card">
            <div class="avatar-circle" aria-hidden="true">
              <img src="avatar_guia.png" alt="Avatar del Mtro. Mart√≠n Reta">
            </div>
            <div class="avatar-text">
              <strong>Hola, soy el maestro Mart√≠n Reta.</strong> En esta ODA vamos a ver c√≥mo algunas fracciones especiales se escriben como decimales.
              <ol class="avatar-steps">
                <li><span class="badge-step">1</span> En <strong>‚ÄúExplora equivalencias‚Äù</strong> relacionas fracciones con sus decimales.</li>
                <li><span class="badge-step">2</span> En <strong>‚ÄúPractica conversiones‚Äù</strong> pasas de fracci√≥n a decimal y al rev√©s.</li>
                <li><span class="badge-step">3</span> En <strong>‚ÄúMezcla fracci√≥n‚Äìdecimal‚Äù</strong> eliges equivalencias correctas.</li>
                <li><span class="badge-step">4</span> En <strong>‚ÄúAplica en contexto‚Äù</strong> resuelves problemas de la vida diaria.</li>
              </ol>
              <button class="btn btn-primary" id="btnPlayVoice">üîä Escucha las instrucciones</button>
            </div>
          </div>
        </div>

        <!-- Sugerencias docente -->
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="icon">üìå</span>
              <span>Sugerencias de uso en el aula</span>
            </div>
          </div>
          <div class="card-body">
            <ul class="objective-list">
              <li>Relaciona estas fracciones con <strong>dinero</strong> (por ejemplo, la mitad, la cuarta parte de una cantidad).</li>
              <li>Usa <strong>rectas num√©ricas</strong> y <strong>figuras</strong> para representar las equivalencias.</li>
              <li>Pide que inventen problemas donde aparezcan 1/2, 1/4, 3/4, 1/5 o 1/8 y sus decimales.</li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div>¬© 2025. Elaborado por <strong>Mtro. Mart√≠n Reta</strong> ‚Äì Escuela Primaria ‚ÄúGral. L√°zaro C√°rdenas‚Äù.</div>
      <div class="project">Proyecto ‚ÄúN√∫meros que cuentan historias‚Äù ¬∑ ODA: Fracciones y decimales (PDA 5).</div>
    </footer>
  </div>

  <script>
    // Datos base fracci√≥n‚Äìdecimal
    const knownPairs=[
      {frac:"1/2", dec:0.5},
      {frac:"1/4", dec:0.25},
      {frac:"3/4", dec:0.75},
      {frac:"1/5", dec:0.2},
      {frac:"1/8", dec:0.125}
    ];

    function randInt(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
    function shuffle(arr){
      const a=[...arr];
      for(let i=a.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    // Navegaci√≥n de m√≥dulos
    const moduleButtons=document.querySelectorAll(".module-button");
    const panels={
      explora:document.getElementById("panel-explora"),
      practica:document.getElementById("panel-practica"),
      mezcla:document.getElementById("panel-mezcla"),
      evalua:document.getElementById("panel-evalua")
    };
    moduleButtons.forEach(btn=>{
      btn.addEventListener("click",()=>{
        const mod=btn.dataset.module;
        moduleButtons.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        Object.keys(panels).forEach(k=>panels[k].classList.remove("active"));
        panels[mod].classList.add("active");
      });
    });

    let lastExploraScore=null,
        lastPracticaScore=null,
        lastMixScore=null,
        lastEvaluaScore=null;

    // ---------------- Explora ----------------
    const statusExplora=document.getElementById("statusExplora");
    document.getElementById("btnCheckExplora").addEventListener("click",()=>{
      const answers={ex1:"c",ex2:"b",ex3:"a",ex4:"d"};
      let total=4,correct=0,unanswered=0,msg=[];
      ["ex1","ex2","ex3","ex4"].forEach((q,i)=>{
        const sel=document.querySelector('input[name="'+q+'"]:checked');
        if(!sel){unanswered++;return;}
        if(sel.value===answers[q]){
          correct++;msg.push("Pregunta "+(i+1)+": ‚úÖ correcta.");
        }else{
          msg.push("Pregunta "+(i+1)+": revisa la equivalencia fracci√≥n‚Äìdecimal.");
        }
      });
      if(unanswered>0){
        statusExplora.className="status status-info";
        statusExplora.innerHTML="<span>‚ÑπÔ∏è</span><div>Te faltan <strong>"+unanswered+"</strong> pregunta(s) por responder.</div>";
        return;
      }
      const percent=Math.round(correct/total*100);
      lastExploraScore={correct,total,percent};
      if(correct>=3){
        statusExplora.className="status status-success";
        statusExplora.innerHTML="<span>‚úÖ</span><div>Acertaste <strong>"+correct+" de "+total+"</strong> ("+percent+"%).<br>"+msg.join("<br>")+"</div>";
      }else{
        statusExplora.className="status status-error";
        statusExplora.innerHTML="<span>üìò</span><div>Acertaste <strong>"+correct+" de "+total+"</strong> ("+percent+"%). Puedes volver a repasar las equivalencias y reintentar.<br>"+msg.join("<br>")+"</div>";
      }
    });
    document.getElementById("btnResetExplora").addEventListener("click",()=>{
      ["ex1","ex2","ex3","ex4"].forEach(name=>{
        document.querySelectorAll('input[name="'+name+'"]').forEach(r=>r.checked=false);
      });
      lastExploraScore=null;
      statusExplora.className="status status-info";
      statusExplora.innerHTML="<span>‚ÑπÔ∏è</span><div>Elige una respuesta en cada pregunta y haz clic en <strong>‚ÄúRevisar respuestas‚Äù</strong>.</div>";
    });

    // ---------------- Practica conversiones ----------------
    const tablePracticaBody=document.getElementById("tablePracticaBody");
    const statusPractica=document.getElementById("statusPractica");
    let practicaData=[]; // {givenType:"frac"/"dec", givenValue, expectedDec, row}

    function parseFraction(str){
      const clean=str.replace(/\s/g,"");
      const parts=clean.split("/");
      if(parts.length!==2)return null;
      const n=parseInt(parts[0],10);
      const d=parseInt(parts[1],10);
      if(isNaN(n)||isNaN(d)||d===0)return null;
      return n/d;
    }

    function genPracticaRows(){
      practicaData=[];
      tablePracticaBody.innerHTML="";
      const rows=shuffle(knownPairs).slice(0,5);
      rows.forEach((pair,idx)=>{
        const orient=Math.random()<0.5?"frac-to-dec":"dec-to-frac";
        const tr=document.createElement("tr");
        const tdDato=document.createElement("td");
        const tdResp=document.createElement("td");

        if(orient==="frac-to-dec"){
          tdDato.textContent="Fracci√≥n: "+pair.frac;
          const input=document.createElement("input");
          input.type="text";
          input.className="convert-input";
          input.setAttribute("data-row",idx);
          input.placeholder="Decimal (ej. 0.5)";
          tdResp.appendChild(input);
          practicaData.push({
            row:idx,
            givenType:"frac",
            givenValue:pair.frac,
            expectedDec:pair.dec
          });
        }else{
          tdDato.textContent="Decimal: "+pair.dec.toString();
          const input=document.createElement("input");
          input.type="text";
          input.className="convert-input";
          input.setAttribute("data-row",idx);
          input.placeholder="Fracci√≥n (ej. 1/2)";
          tdResp.appendChild(input);
          practicaData.push({
            row:idx,
            givenType:"dec",
            givenValue:pair.dec,
            expectedDec:pair.dec
          });
        }

        tr.appendChild(tdDato);
        tr.appendChild(tdResp);
        tablePracticaBody.appendChild(tr);
      });
    }
    genPracticaRows();

    document.getElementById("btnGenPractica").addEventListener("click",()=>{
      genPracticaRows();
      lastPracticaScore=null;
      statusPractica.className="status status-info";
      statusPractica.innerHTML="<span>‚ÑπÔ∏è</span><div>Se generaron nuevas combinaciones. Completa y haz clic en <strong>‚ÄúRevisar‚Äù</strong>.</div>";
    });

    document.getElementById("btnCheckPractica").addEventListener("click",()=>{
      if(practicaData.length===0){
        alert("Primero genera las combinaciones.");
        return;
      }
      let total=practicaData.length,correct=0,empty=0;
      practicaData.forEach(info=>{
        const inp=tablePracticaBody.querySelector('input[data-row="'+info.row+'"]');
        const val=inp.value.trim();
        if(!val){empty++;return;}
        if(info.givenType==="frac"){
          // Se espera decimal
          const num=parseFloat(val.replace(",",".")); 
          if(!isNaN(num) && Math.abs(num-info.expectedDec)<1e-4){
            correct++;
          }
        }else{
          // Se espera fracci√≥n que sea equivalente al decimal esperado
          const fracVal=parseFraction(val);
          if(fracVal!==null && Math.abs(fracVal-info.expectedDec)<1e-4){
            correct++;
          }
        }
      });
      if(empty>0){
        statusPractica.className="status status-info";
        statusPractica.innerHTML="<span>‚ÑπÔ∏è</span><div>Te faltan <strong>"+empty+"</strong> casilla(s) por completar.</div>";
        return;
      }
      const percent=Math.round(correct/total*100);
      lastPracticaScore={correct,total,percent};
      if(percent>=70){
        statusPractica.className="status status-success";
        statusPractica.innerHTML="<span>‚úÖ</span><div>Respondiste correctamente <strong>"+correct+" de "+total+"</strong> conversiones ("+percent+"%). Excelente manejo de fracci√≥n‚Äìdecimal.</div>";
      }else{
        statusPractica.className="status status-error";
        statusPractica.innerHTML="<span>üìò</span><div>Respondiste correctamente <strong>"+correct+" de "+total+"</strong> conversiones ("+percent+"%). Revisa las equivalencias y vuelve a intentarlo.</div>";
      }
    });

    document.getElementById("btnResetPractica").addEventListener("click",()=>{
      tablePracticaBody.querySelectorAll("input").forEach(i=>i.value="");
      lastPracticaScore=null;
      statusPractica.className="status status-info";
      statusPractica.innerHTML="<span>‚ÑπÔ∏è</span><div>Escribe fracciones o decimales equivalentes y haz clic en <strong>‚ÄúRevisar‚Äù</strong>.</div>";
    });

    // ---------------- Mezcla fracci√≥n‚Äìdecimal ----------------
    const tableMixBody=document.getElementById("tableMixBody");
    const statusMix=document.getElementById("statusMix");
    let mixData=[]; // {row, givenType, givenValue, expectedMatch, options:[]}

    function genMixRows(){
      mixData=[];
      tableMixBody.innerHTML="";
      const selected=shuffle(knownPairs).slice(0,4);
      selected.forEach((pair,idx)=>{
        const orient=Math.random()<0.5?"frac-to-dec":"dec-to-frac";
        const tr=document.createElement("tr");
        const tdDato=document.createElement("td");
        const tdSel=document.createElement("td");

        const select=document.createElement("select");
        select.className="mix-select";
        select.setAttribute("data-row",idx);
        select.innerHTML='<option value="">-- Elige --</option>';

        if(orient==="frac-to-dec"){
          tdDato.textContent="Fracci√≥n: "+pair.frac;
          const allDec=shuffle(knownPairs.map(p=>p.dec));
          allDec.forEach(d=>{
            const opt=document.createElement("option");
            opt.value=d;
            opt.textContent=d.toString();
            select.appendChild(opt);
          });
          mixData.push({
            row:idx,
            givenType:"frac",
            givenValue:pair.frac,
            expectedMatch:pair.dec
          });
        }else{
          tdDato.textContent="Decimal: "+pair.dec.toString();
          const allFrac=shuffle(knownPairs.map(p=>p.frac));
          allFrac.forEach(fr=>{
            const opt=document.createElement("option");
            opt.value=fr;
            opt.textContent=fr;
            select.appendChild(opt);
          });
          mixData.push({
            row:idx,
            givenType:"dec",
            givenValue:pair.dec,
            expectedMatch:pair.frac
          });
        }

        tdSel.appendChild(select);
        tr.appendChild(tdDato);
        tr.appendChild(tdSel);
        tableMixBody.appendChild(tr);
      });
    }
    genMixRows();

    document.getElementById("btnGenMix").addEventListener("click",()=>{
      genMixRows();
      lastMixScore=null;
      statusMix.className="status status-info";
      statusMix.innerHTML="<span>‚ÑπÔ∏è</span><div>Se generaron nuevas parejas. Elige las equivalencias y haz clic en <strong>‚ÄúRevisar‚Äù</strong>.</div>";
    });

    document.getElementById("btnCheckMix").addEventListener("click",()=>{
      let total=mixData.length,correct=0,empty=0;
      mixData.forEach(info=>{
        const sel=tableMixBody.querySelector('select[data-row="'+info.row+'"]');
        const v=sel.value;
        if(!v){empty++;return;}
        if(info.givenType==="frac"){
          // Espera decimal exacto
          const num=parseFloat(v);
          if(!isNaN(num) && Math.abs(num-info.expectedMatch)<1e-4){
            correct++;
          }
        }else{
          // Espera fracci√≥n equivalente
          if(v===info.expectedMatch){
            correct++;
          }
        }
      });
      if(empty>0){
        statusMix.className="status status-info";
        statusMix.innerHTML="<span>‚ÑπÔ∏è</span><div>Te faltan <strong>"+empty+"</strong> fila(s) por completar.</div>";
        return;
      }
      const percent=Math.round(correct/total*100);
      lastMixScore={correct,total,percent};
      if(percent>=70){
        statusMix.className="status status-success";
        statusMix.innerHTML="<span>‚úÖ</span><div>Elegiste correctamente <strong>"+correct+" de "+total+"</strong> equivalencias ("+percent+"%). Muy bien reconociendo fracciones y decimales.</div>";
      }else{
        statusMix.className="status status-error";
        statusMix.innerHTML="<span>üìò</span><div>Elegiste correctamente <strong>"+correct+" de "+total+"</strong> equivalencias ("+percent+"%). Revisa de nuevo qu√© decimal corresponde a cada fracci√≥n.</div>";
      }
    });

    document.getElementById("btnResetMix").addEventListener("click",()=>{
      tableMixBody.querySelectorAll("select").forEach(s=>s.value="");
      lastMixScore=null;
      statusMix.className="status status-info";
      statusMix.innerHTML="<span>‚ÑπÔ∏è</span><div>Elige una opci√≥n en cada fila y haz clic en <strong>‚ÄúRevisar‚Äù</strong>.</div>";
    });

    // ---------------- Aplica en contexto ----------------
    const statusEvalua=document.getElementById("statusEvalua");
    const correctEval={ev1:"b",ev2:"a",ev3:"c",ev4:"b"};

    document.getElementById("btnCheckEvalua").addEventListener("click",()=>{
      let total=4,correct=0,unanswered=0,msg=[];
      Object.keys(correctEval).forEach(q=>{
        const ans=document.querySelector('input[name="'+q+'"]:checked');
        const num=q.replace("ev","");
        if(!ans){unanswered++;return;}
        if(ans.value===correctEval[q]){
          correct++;msg.push("Pregunta "+num+": ‚úÖ correcta.");
        }else{
          msg.push("Pregunta "+num+": revisa la equivalencia fracci√≥n‚Äìdecimal en el contexto.");
        }
      });
      if(unanswered>0){
        statusEvalua.className="status status-info";
        statusEvalua.innerHTML="<span>‚ÑπÔ∏è</span><div>Te faltan <strong>"+unanswered+"</strong> pregunta(s) por responder.</div>";
        return;
      }
      const percent=Math.round(correct/total*100);
      lastEvaluaScore={correct,total,percent};
      if(correct>=3){
        statusEvalua.className="status status-success";
        statusEvalua.innerHTML="<span>‚úÖ</span><div>Acertaste <strong>"+correct+" de "+total+"</strong> ("+percent+"%). Buen manejo de fracciones y decimales en situaciones reales.<br>"+msg.join("<br>")+"</div>";
      }else{
        statusEvalua.className="status status-error";
        statusEvalua.innerHTML="<span>üìò</span><div>Acertaste <strong>"+correct+" de "+total+"</strong> ("+percent+"%). Puedes volver a practicar en los otros m√≥dulos y regresar a este.<br>"+msg.join("<br>")+"</div>";
      }
    });

    document.getElementById("btnResetEvalua").addEventListener("click",()=>{
      Object.keys(correctEval).forEach(q=>{
        document.querySelectorAll('input[name="'+q+'"]').forEach(r=>r.checked=false);
      });
      lastEvaluaScore=null;
      statusEvalua.className="status status-info";
      statusEvalua.innerHTML="<span>‚ÑπÔ∏è</span><div>Responde todas las preguntas y haz clic en <strong>‚ÄúRevisar respuestas‚Äù</strong>.</div>";
    });

    // ---------------- Voz instrucciones ----------------
    const btnPlayVoice=document.getElementById("btnPlayVoice");
    const instructionsText="Hola, soy el maestro Martin Reta. En esta actividad vas a trabajar con las fracciones un medio, un cuarto, tres cuartos, un quinto y un octavo, y sus decimales. Primero explora cuales decimales corresponden a cada fraccion. Despues practica las conversiones de fraccion a decimal y al reves. Luego reconoce las equivalencias en diferentes formas. Al final resuelve problemas de la vida diaria usando estas fracciones y decimales.";

    function speakInstructions(){
      if(!("speechSynthesis" in window)){
        alert("Tu navegador no permite la lectura en voz alta. Puedes leer las instrucciones en pantalla.");
        return;
      }
      window.speechSynthesis.cancel();
      const u=new SpeechSynthesisUtterance(instructionsText);
      u.lang="es-MX";
      const voices=window.speechSynthesis.getVoices();
      let chosen=null;
      if(voices && voices.length){
        chosen=voices.find(v=>v.lang.startsWith("es") && /Hombre|Male|Miguel|Diego|Jorge|Antonio|Carlos/i.test(v.name))
               || voices.find(v=>v.lang.startsWith("es"))
               || voices[0];
      }
      if(chosen)u.voice=chosen;
      window.speechSynthesis.speak(u);
    }

    btnPlayVoice.addEventListener("click",()=>{
      const voices=window.speechSynthesis.getVoices();
      if(!voices || !voices.length){
        window.speechSynthesis.onvoiceschanged=speakInstructions;
        window.speechSynthesis.getVoices();
      }else{
        speakInstructions();
      }
    });

    // ---------------- Imprimir resultados ----------------
    document.getElementById("btnPrintResults").addEventListener("click",()=>{
      const studentName=document.getElementById("studentName").value.trim();
      if(!lastExploraScore && !lastPracticaScore && !lastMixScore && !lastEvaluaScore){
        alert("Primero realiza al menos un m√≥dulo para poder imprimir resultados.");
        return;
      }
      const w=window.open("","_blank");
      w.document.write("<html><head><title>Resultados del estudiante ‚Äì Fracciones y decimales</title>");
      w.document.write('<style>body{font-family:system-ui,Arial,sans-serif;font-size:13px;padding:16px;color:#111827;} h1{font-size:20px;margin-bottom:4px;} h2{font-size:16px;margin-top:16px;margin-bottom:6px;} p{margin:4px 0;} .small{font-size:12px;color:#4b5563;} .blue{color:#1d4ed8;}</style>');
      w.document.write("</head><body>");
      w.document.write("<h1>Resultados del estudiante ‚Äì Fracciones y decimales (PDA 5)</h1>");
      w.document.write("<p><strong>Nombre del alumno(a):</strong> "+(studentName||"______________________________")+"</p>");
      w.document.write("<p><strong>Docente:</strong> Mtro. Mart√≠n Reta</p>");
      w.document.write("<p><strong>Proyecto:</strong> N√∫meros que cuentan historias</p>");
      w.document.write("<p class='small'><strong>PDA:</strong> Reconoce, interpreta y utiliza las fracciones 1/2, 1/4, 3/4, 1/5 y 1/8 expresadas en notaci√≥n decimal y viceversa en diferentes contextos.</p>");

      if(lastExploraScore){
        w.document.write("<h2>M√≥dulo 1. Explora equivalencias</h2>");
        w.document.write("<p>Puntaje: <span class='blue'>"+lastExploraScore.correct+" de "+lastExploraScore.total+" ("+lastExploraScore.percent+"%)</span></p>");
      }
      if(lastPracticaScore){
        w.document.write("<h2>M√≥dulo 2. Practica conversiones</h2>");
        w.document.write("<p>Puntaje: <span class='blue'>"+lastPracticaScore.correct+" de "+lastPracticaScore.total+" ("+lastPracticaScore.percent+"%)</span></p>");
      }
      if(lastMixScore){
        w.document.write("<h2>M√≥dulo 3. Mezcla fracci√≥n‚Äìdecimal</h2>");
        w.document.write("<p>Puntaje: <span class='blue'>"+lastMixScore.correct+" de "+lastMixScore.total+" ("+lastMixScore.percent+"%)</span></p>");
      }
      if(lastEvaluaScore){
        w.document.write("<h2>M√≥dulo 4. Aplica en contexto</h2>");
        w.document.write("<p>Puntaje: <span class='blue'>"+lastEvaluaScore.correct+" de "+lastEvaluaScore.total+" ("+lastEvaluaScore.percent+"%)</span></p>");
      }

      w.document.write("<p class='small'><strong>Observaciones del docente:</strong></p>");
      w.document.write("<p class='small'>______________________________________________</p>");
      w.document.write("<p class='small'>______________________________________________</p>");
      w.document.write("<p class='small'>______________________________________________</p>");
      w.document.write("</body></html>");
      w.document.close();
      w.print();
    });

    // ---------------- Actividad para imprimir ----------------
    document.getElementById("btnPrintActivity").addEventListener("click",()=>{
      const studentName=document.getElementById("studentName").value.trim();
      const w=window.open("","_blank");
      w.document.write("<html><head><title>Actividad para imprimir ‚Äì Fracciones y decimales</title>");
      w.document.write('<style>body{font-family:system-ui,Arial,sans-serif;font-size:13px;padding:16px;color:#111827;} h1{font-size:20px;margin-bottom:4px;} h2{font-size:16px;margin-top:16px;margin-bottom:6px;} p{margin:6px 0;} ol{padding-left:18px;} li{margin-bottom:6px;} .small{font-size:12px;color:#4b5563;} table{border-collapse:collapse;width:100%;margin-top:6px;} th,td{border:1px solid #e5e7eb;padding:4px 6px;text-align:center;font-size:12px;} th{background:#eff6ff;} .left{text-align:left;font-weight:600;}</style>');
      w.document.write("</head><body>");
      w.document.write("<h1>Actividad para imprimir ‚Äì Fracciones y decimales</h1>");
      w.document.write("<p><strong>Nombre del alumno(a):</strong> "+(studentName||"______________________________")+"</p>");
      w.document.write("<p><strong>Docente:</strong> Mtro. Mart√≠n Reta &nbsp;&nbsp;&nbsp; <strong>Proyecto:</strong> N√∫meros que cuentan historias</p>");
      w.document.write("<p class='small'><strong>PDA:</strong> Reconoce, interpreta y utiliza las fracciones 1/2, 1/4, 3/4, 1/5 y 1/8 expresadas en notaci√≥n decimal y viceversa en diferentes contextos.</p>");

      // Parte A
      w.document.write("<h2>Parte A. Relaciona fracci√≥n y decimal</h2>");
      w.document.write("<p>Une con una l√≠nea cada fracci√≥n con su decimal equivalente.</p>");
      w.document.write("<table><tr><th>Fracciones</th><th>Decimales</th></tr>");
      w.document.write("<tr><td class='left'>1/2<br>1/4<br>3/4<br>1/5<br>1/8</td><td class='left'>0.75<br>0.2<br>0.125<br>0.5<br>0.25</td></tr>");
      w.document.write("</table>");

      // Parte B
      w.document.write("<h2>Parte B. Completa</h2>");
      w.document.write("<p>Escribe el decimal o la fracci√≥n que falta.</p>");
      w.document.write("<ol>");
      w.document.write("<li>1/2 = ________</li>");
      w.document.write("<li>________ = 0.25</li>");
      w.document.write("<li>3/4 = ________</li>");
      w.document.write("<li>________ = 0.2</li>");
      w.document.write("<li>1/8 = ________</li>");
      w.document.write("</ol>");

      // Parte C
      w.document.write("<h2>Parte C. Problemas</h2>");
      w.document.write("<p>Resuelve y explica tu procedimiento.</p>");
      w.document.write("<ol>");
      w.document.write("<li>En una carrera, Carla recorre 0.5 km y Marcos recorre 1/4 de km. ¬øQui√©n recorre m√°s distancia? ¬øCu√°nto m√°s recorre?</li>");
      w.document.write("<li>En la tiendita, una bolsa de dulces cuesta $20. Si pagas 1/5 de esa cantidad, ¬øcu√°nto pagas? ¬øA qu√© decimal corresponde 1/5?</li>");
      w.document.write("<li>Dibuja una figura y pinta 3/4 de ella. Escribe el decimal correspondiente y comp√°ralo con 1/2 y 1/4.</li>");
      w.document.write("</ol>");

      w.document.write("</body></html>");
      w.document.close();
      w.print();
    });
  </script>
</body>
</html>
