<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ODA V3 ‚Äì Escribo mi autobiograf√≠a con tiempos y conectores</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root{
      --primary:#7f1d1d;
      --primary-soft:#fef2f2;
      --accent:#fbbf24;
      --accent-soft:#fffbeb;
      --text:#111827;
      --muted:#6b7280;
      --border:#fecaca;
      --card:#ffffff;
      --shadow:0 18px 40px rgba(127,29,29,.22);
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
      background:radial-gradient(circle at top,#fee2e2 0,#ffffff 40%,#fff7ed 100%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      justify-content:center;
      padding:14px 10px;
      position:relative;
    }
    .school-logo-fixed{
      position:fixed;
      right:16px;
      bottom:10px;
      height:86px;
      opacity:0.95;
      z-index:5;
      pointer-events:none;
    }
    .wrapper{
      position:relative;
      z-index:1;
      width:100%;
      max-width:1240px;
      background:linear-gradient(135deg,#fef2f2 0,#ffffff 50%,#fffbeb 100%);
      border-radius:26px;
      box-shadow:var(--shadow);
      padding:14px 16px 16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      border:1px solid #fee2e2;
    }
    header{
      display:grid;
      grid-template-columns:auto minmax(0,2.6fr) auto;
      gap:10px;
      align-items:center;
      padding-bottom:8px;
      border-bottom:1px solid #fee2e2;
    }
    @media(max-width:900px){
      header{
        grid-template-columns:1fr;
        text-align:center;
      }
      .header-logos{justify-content:center;}
    }
    .header-logos{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .header-logos img{
      max-height:54px;
      width:auto;
      display:block;
    }
    .title-block h1{
      margin:0;
      font-size:1.26rem;
      display:flex;
      align-items:center;
      gap:8px;
      flex-wrap:wrap;
      color:#7f1d1d;
    }
    .title-block h1 .icon{
      font-size:1.5rem;
    }
    .title-meta{
      margin-top:3px;
      font-size:.84rem;
      color:var(--muted);
    }
    .phase-label{
      display:inline-flex;
      align-items:center;
      gap:4px;
      margin-top:3px;
      font-size:.8rem;
      font-weight:600;
      color:#7f1d1d;
      padding:2px 8px;
      border-radius:999px;
      background:#fee2e2;
    }
    .badge-grade{
      display:inline-flex;
      align-items:center;
      gap:4px;
      padding:2px 8px;
      font-size:.78rem;
      border-radius:999px;
      background:#fffbeb;
      border:1px solid #facc15;
      color:#92400e;
      margin-left:4px;
    }
    .badge-grade span{
      font-size:.9rem;
    }
    .author-block{
      font-size:.78rem;
      color:#4b5563;
      text-align:right;
    }
    @media(max-width:900px){
      .author-block{text-align:center;}
    }
    .author-block strong{
      display:block;
      font-size:.86rem;
      color:#111827;
    }
    .top-layout{
      display:grid;
      grid-template-columns:minmax(0,2.2fr) minmax(260px,1.2fr);
      gap:10px;
      align-items:stretch;
      margin-top:4px;
    }
    @media(max-width:900px){
      .top-layout{
        grid-template-columns:1fr;
      }
    }
    .student-and-tabs{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .student-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
      justify-content:space-between;
    }
    .student-name{
      display:flex;
      flex-direction:column;
      gap:4px;
      font-size:.82rem;
      background:#fff;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid #fecaca;
    }
    .student-name label{
      font-weight:600;
      color:#374151;
    }
    .student-name input{
      border:none;
      outline:none;
      font-size:.9rem;
      min-width:190px;
    }
    .ejes-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:4px;
      font-size:.74rem;
    }
    .chip{
      border-radius:999px;
      padding:2px 9px;
      border:1px solid #fed7d7;
      background:#fff1f2;
      color:#b91c1c;
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .chip .dot{
      width:8px;
      height:8px;
      border-radius:50%;
      background:#b91c1c;
    }
    .avatar-panel{
      background:radial-gradient(circle at top,#fee2e2 0,#ffffff 55%);
      border-radius:20px;
      border:1px solid #fecaca;
      padding:8px 10px;
      display:flex;
      gap:8px;
      align-items:center;
      box-shadow:0 10px 24px rgba(127,29,29,.18);
    }
    .avatar-panel img{
      height:70px;
      width:auto;
      display:block;
    }
    .avatar-text{
      font-size:.8rem;
      color:#7f1d1d;
    }
    .btn-voice{
      border-radius:999px;
      border:none;
      background:#7f1d1d;
      color:#fff;
      padding:5px 10px;
      font-size:.8rem;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      box-shadow:0 6px 18px rgba(127,29,29,.45);
      margin-top:4px;
    }
    .btn-voice span{
      font-size:1rem;
    }
    .pill-tabs{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:6px;
      background:#fee2e2;
      border-radius:999px;
      padding:5px;
      border:1px solid #fecaca;
    }
    .pill-tab{
      flex:1 1 150px;
      border-radius:999px;
      padding:5px 10px;
      font-size:.82rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:6px;
      cursor:pointer;
      border:1px solid transparent;
      background:#fff;
      color:#7f1d1d;
      transition:.2s;
    }
    .pill-main{
      font-weight:600;
    }
    .pill-sub{
      font-size:.72rem;
      color:#9f1239;
    }
    .pill-number{
      width:22px;
      height:22px;
      border-radius:999px;
      border:2px solid #fecaca;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:.78rem;
      background:#fff5f5;
    }
    .pill-tab.active{
      background:linear-gradient(90deg,#7f1d1d,#f97316);
      color:#fff;
      border-color:#7f1d1d;
    }
    .pill-tab.active .pill-number{
      background:#fff;
      border-color:#fee2e2;
      color:#7f1d1d;
    }
    main{
      margin-top:6px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .section-panel{
      display:none;
      background:var(--card);
      border-radius:20px;
      border:1px solid var(--border);
      padding:10px 12px;
    }
    .section-panel.active{
      display:block;
    }
    .section-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      margin-bottom:4px;
    }
    .section-header h2{
      margin:0;
      font-size:.98rem;
      color:#7f1d1d;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .section-header h2 .icon{
      font-size:1.1rem;
    }
    .section-badge{
      font-size:.72rem;
      padding:2px 7px;
      border-radius:999px;
      background:#fffbeb;
      border:1px solid #facc15;
      color:#92400e;
    }
    .section-panel p{
      font-size:.86rem;
      color:#374151;
      margin:.15rem 0;
    }
    .flip-grid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
      margin-top:6px;
    }
    @media(max-width:900px){
      .flip-grid{grid-template-columns:1fr;}
    }
    .flip-card{
      background:transparent;
      perspective:1000px;
      cursor:pointer;
    }
    .flip-inner{
      position:relative;
      width:100%;
      min-height:150px;
      transition:transform .5s;
      transform-style:preserve-3d;
    }
    .flip-card.flipped .flip-inner{
      transform:rotateY(180deg);
    }
    .flip-face{
      position:absolute;
      inset:0;
      backface-visibility:hidden;
      border-radius:18px;
      border:1px solid #fecaca;
      padding:8px 9px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .flip-front{
      background:linear-gradient(145deg,#fef2f2,#fffbeb);
    }
    .flip-back{
      background:#ffffff;
      transform:rotateY(180deg);
    }
    .flip-title{
      font-weight:700;
      font-size:.9rem;
      color:#7f1d1d;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .flip-icon{
      font-size:1.2rem;
    }
    .flip-tag{
      font-size:.72rem;
      padding:2px 7px;
      border-radius:999px;
      align-self:flex-start;
      background:#fee2e2;
      color:#7c2d12;
    }
    .flip-front p,
    .flip-back p{
      font-size:.8rem;
      margin:.1rem 0;
    }
    .list{
      margin:4px 0 0;
      padding-left:18px;
      font-size:.83rem;
    }
    .list li{margin-bottom:3px;}
    .mini-title{
      font-weight:600;
      font-size:.86rem;
      color:#7f1d1d;
      margin-top:4px;
    }
    .vf-row{
      margin-top:4px;
      padding:6px 7px;
      border-radius:10px;
      background:#f9fafb;
      border:1px solid #e5e7eb;
      font-size:.84rem;
    }
    .vf-row label{margin-right:8px;}
    textarea{
      width:100%;
      border-radius:10px;
      border:1px solid #e5e7eb;
      padding:5px 7px;
      font-family:inherit;
      font-size:.84rem;
      resize:vertical;
      min-height:70px;
    }
    .conn-table{
      width:100%;
      border-collapse:collapse;
      margin-top:4px;
      font-size:.8rem;
    }
    .conn-table th,
    .conn-table td{
      border:1px solid #e5e7eb;
      padding:4px 6px;
      vertical-align:top;
    }
    .conn-table th{
      background:#fef2f2;
      text-align:center;
    }
    select{
      width:100%;
      border:none;
      background:transparent;
      font-size:.8rem;
      font-family:inherit;
      outline:none;
    }
    .btn-row{
      margin-top:6px;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }
    .btn{
      border-radius:999px;
      border:none;
      font-size:.8rem;
      padding:6px 10px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-weight:600;
    }
    .btn-primary{
      background:var(--primary);
      color:#fff;
    }
    .btn-outline{
      background:#fff;
      color:#b91c1c;
      border:1px solid #fecaca;
    }
    .result-good{color:#166534;font-weight:600;}
    .result-bad{color:#b91c1c;font-weight:600;}
    .results-card{
      font-size:.84rem;
      margin-top:6px;
      border-radius:18px;
      border:1px solid #fecaca;
      padding:8px 9px;
      background:#fffbeb;
    }
    .activity-sheet{
      font-size:.84rem;
      margin-top:8px;
      border-radius:18px;
      border:1px dashed #fecaca;
      padding:8px 9px;
      background:#ffffff;
    }
    .activity-sheet h3{
      margin:0 0 4px;
      color:#7f1d1d;
      display:flex;
      align-items:center;
      gap:6px;
      font-size:.9rem;
    }
    .activity-sheet table{
      width:100%;
      border-collapse:collapse;
      margin-top:4px;
      font-size:.8rem;
    }
    .activity-sheet th,
    .activity-sheet td{
      border:1px solid #e5e7eb;
      padding:4px 6px;
      vertical-align:top;
    }
    .activity-sheet th{
      background:#fef2f2;
      text-align:center;
    }
    .activity-sheet .line{
      display:block;
      border-bottom:1px solid #e5e7eb;
      margin:4px 0;
      height:12px;
    }
    .reader-corner{
      background:#111827;
      color:#f9fafb;
      border-radius:18px;
      padding:8px 10px;
      margin-top:4px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .reader-corner h3{
      margin:0;
      font-size:.9rem;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .reader-quote{
      font-size:.8rem;
      font-style:italic;
    }
    .reader-author{
      font-size:.78rem;
      text-align:right;
      opacity:.9;
    }
    footer{
      margin-top:6px;
      padding-top:7px;
      border-top:1px solid #fee2e2;
      font-size:.78rem;
      color:#6b7280;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:6px;
    }
    footer .project{
      font-style:italic;
      color:#4b5563;
    }
    @media print{
      body{
        background:#ffffff;
        padding:0;
      }
      .school-logo-fixed{position:fixed;right:8px;bottom:8px;height:60px;}
      .btn-row,.pill-tabs,.avatar-panel,.reader-corner{display:none!important;}
      .wrapper{
        box-shadow:none;
        border:none;
        border-radius:0;
      }
    }
  </style>
</head>
<body>
  <img src="escudo_escuela.png" alt="Escudo escuela" class="school-logo-fixed">

  <div class="wrapper">
    <header>
      <div class="header-logos">
        <img src="sep_logo.png" alt="Secretar√≠a de Educaci√≥n P√∫blica">
      </div>
      <div class="title-block">
        <h1>
          <span class="icon">‚úçÔ∏è</span>
          <span>Tejiendo mi historia: tiempos verbales y conectores</span>
        </h1>
        <div class="title-meta">
          Campo formativo: <strong>Lenguajes.</strong> Contenido: <strong>Narraci√≥n de sucesos autobiogr√°ficos.</strong><br>
          PDA: <strong>Escribe su autobiograf√≠a usando tiempos verbales coherentes y conectores temporales para dar fluidez al texto.</strong><br>
          <span class="phase-label">Fase 5</span>
          <span class="badge-grade"><span>üéì</span>6.¬∫ grado</span>
        </div>
      </div>
      <div class="author-block">
        <strong>Autor: Mtro. Mart√≠n Reta</strong>
        Escuela Primaria ‚ÄúGral. L√°zaro C√°rdenas‚Äù<br>
        Ejido Santa Mar√≠a, Pesquer√≠a, N.L.
      </div>
    </header>

    <div class="top-layout">
      <div class="student-and-tabs">
        <div class="student-row">
          <div class="student-name">
            <label for="studentName">Nombre del alumno(a):</label>
            <input type="text" id="studentName" placeholder="Escribe tu nombre aqu√≠">
          </div>
        </div>
        <div class="ejes-row">
          <span class="chip"><span class="dot"></span>Inclusi√≥n</span>
          <span class="chip"><span class="dot"></span>Lenguajes para la vida</span>
          <span class="chip"><span class="dot"></span>Pensamiento cr√≠tico</span>
          <span class="chip"><span class="dot"></span>Comunidades de aprendizaje</span>
        </div>

        <div class="pill-tabs">
          <button class="pill-tab active" data-sec="1" onclick="setSection(1)">
            <div>
              <div class="pill-main">Exploro</div>
              <div class="pill-sub">Tiempos y conectores</div>
            </div>
            <div class="pill-number">1</div>
          </button>
          <button class="pill-tab" data-sec="2" onclick="setSection(2)">
            <div>
              <div class="pill-main">Practico</div>
              <div class="pill-sub">Corregir y mejorar</div>
            </div>
            <div class="pill-number">2</div>
          </button>
          <button class="pill-tab" data-sec="3" onclick="setSection(3)">
            <div>
              <div class="pill-main">Escribo</div>
              <div class="pill-sub">Fragmento autobiogr√°fico</div>
            </div>
            <div class="pill-number">3</div>
          </button>
          <button class="pill-tab" data-sec="4" onclick="setSection(4)">
            <div>
              <div class="pill-main">Eval√∫o</div>
              <div class="pill-sub">Hoja de resultados</div>
            </div>
            <div class="pill-number">4</div>
          </button>
        </div>
      </div>

      <aside class="avatar-panel">
        <img src="avatar_guia.png" alt="Avatar del Mtro. Mart√≠n Reta">
        <div>
          <div class="avatar-text">
            <strong>Hola, soy el maestro Mart√≠n.</strong><br>
            En esta ODA vas a <strong>darle ritmo</strong> a tu autobiograf√≠a usando <strong>conectores temporales</strong> y <strong>tiempos verbales coherentes</strong>, para que tu historia se lea clara y fluida.
          </div>
          <button class="btn-voice" type="button" onclick="playGuide()">
            <span>üîä</span> Escuchar instrucciones
          </button>
        </div>
      </aside>
    </div>

    <main>
      <!-- SECCI√ìN 1 -->
      <section class="section-panel active" id="sec-1">
        <div class="section-header">
          <h2><span class="icon">üß©</span><span>Secci√≥n 1. Exploro: tiempos verbales y conectores</span></h2>
          <span class="section-badge">Voltea las tarjetas</span>
        </div>
        <p>Da clic en cada tarjeta para revisar qu√© son los <strong>conectores temporales</strong> y c√≥mo se usan los <strong>tiempos verbales</strong> en una autobiograf√≠a.</p>

        <div class="flip-grid">
          <!-- Conectores temporales -->
          <div class="flip-card" onclick="toggleFlip(this)">
            <div class="flip-inner">
              <div class="flip-face flip-front">
                <div class="flip-title">
                  <span class="flip-icon">‚è±Ô∏è</span>
                  <span>Conectores temporales</span>
                </div>
                <span class="flip-tag">Marcan el tiempo</span>
                <p>‚ÄúPrimero‚Ä¶ despu√©s‚Ä¶ m√°s tarde‚Ä¶ al d√≠a siguiente‚Ä¶ finalmente‚Ä¶‚Äù</p>
                <p class="mini-title">Pista</p>
                <p>¬øAyudan a saber en qu√© momento ocurri√≥ cada suceso?</p>
              </div>
              <div class="flip-face flip-back">
                <div class="flip-title">
                  <span class="flip-icon">‚è±Ô∏è</span>
                  <span>Conectores temporales</span>
                </div>
                <ul class="list">
                  <li>Unen oraciones y p√°rrafos.</li>
                  <li>Indican el orden en que ocurren los hechos.</li>
                  <li>Dan fluidez al texto y evitan repeticiones.</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Tiempos verbales -->
          <div class="flip-card" onclick="toggleFlip(this)">
            <div class="flip-inner">
              <div class="flip-face flip-front">
                <div class="flip-title">
                  <span class="flip-icon">üìñ</span>
                  <span>Tiempos verbales en la autobiograf√≠a</span>
                </div>
                <span class="flip-tag">Hablo de mi pasado</span>
                <p>‚ÄúNac√≠‚Ä¶ viv√≠‚Ä¶ aprend√≠‚Ä¶ jugaba‚Ä¶ sent√≠a‚Ä¶‚Äù</p>
                <p class="mini-title">Pista</p>
                <p>¬øLa autobiograf√≠a cuenta cosas que ya pasaron o que pasar√°n?</p>
              </div>
              <div class="flip-face flip-back">
                <div class="flip-title">
                  <span class="flip-icon">üìñ</span>
                  <span>Tiempos verbales en la autobiograf√≠a</span>
                </div>
                <ul class="list">
                  <li>Generalmente se usan tiempos del <strong>pasado</strong> (pret√©rito y copret√©rito).</li>
                  <li>Ejemplos: ‚Äúyo nac√≠‚Äù, ‚Äúyo viv√≠a‚Äù, ‚Äúyo aprend√≠‚Äù.</li>
                  <li>Se puede usar presente para reflexionar: ‚Äúahora pienso que‚Ä¶‚Äù.</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Ejemplo de p√°rrafo -->
          <div class="flip-card" onclick="toggleFlip(this)">
            <div class="flip-inner">
              <div class="flip-face flip-front">
                <div class="flip-title">
                  <span class="flip-icon">üìù</span>
                  <span>Ejemplo de fragmento autobiogr√°fico</span>
                </div>
                <span class="flip-tag">Conectores + pasado</span>
                <p>‚ÄúCuando era peque√±o, viv√≠a con mis abuelos. <strong>Primero</strong> me daba miedo dormir solo, pero <strong>con el tiempo</strong> me acostumbr√©. <strong>Finalmente</strong>, ese cuarto se volvi√≥ mi lugar favorito.‚Äù</p>
              </div>
              <div class="flip-face flip-back">
                <div class="flip-title">
                  <span class="flip-icon">üìù</span>
                  <span>¬øQu√© observas?</span>
                </div>
                <ul class="list">
                  <li>Los verbos est√°n en pasado: ‚Äúviv√≠a‚Äù, ‚Äúacostumbr√©‚Äù.</li>
                  <li>Los conectores ordenan los hechos: ‚ÄúPrimero‚Ä¶ con el tiempo‚Ä¶ Finalmente‚Ä¶‚Äù.</li>
                  <li>La historia se entiende y fluye mejor.</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECCI√ìN 2 -->
      <section class="section-panel" id="sec-2">
        <div class="section-header">
          <h2><span class="icon">üõ†Ô∏è</span><span>Secci√≥n 2. Practico: corrijo y mejoro textos</span></h2>
          <span class="section-badge">Elige la mejor opci√≥n</span>
        </div>
        <p>Completa las siguientes oraciones eligiendo el <strong>conector temporal</strong> que mejor se acomode.</p>

        <table class="conn-table">
          <tr>
            <th>#</th>
            <th>Oraci√≥n</th>
            <th>Conector</th>
          </tr>
          <tr>
            <td>1</td>
            <td>_____ empec√© la primaria, me sent√≠a muy nervioso.</td>
            <td>
              <select id="c1">
                <option value="">Selecciona‚Ä¶</option>
                <option value="cuando">Cuando</option>
                <option value="finalmente">Finalmente</option>
                <option value="ayer">Ayer</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>2</td>
            <td>Estudi√© varias noches y _____ present√© mi primer examen importante.</td>
            <td>
              <select id="c2">
                <option value="">Selecciona‚Ä¶</option>
                <option value="luego">luego</option>
                <option value="siempre">siempre</option>
                <option value="mientras">mientras</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>3</td>
            <td>Al principio me costaba hacer amigos, pero _____ logr√© sentirme parte del grupo.</td>
            <td>
              <select id="c3">
                <option value="">Selecciona‚Ä¶</option>
                <option value="finalmente">finalmente</option>
                <option value="ayer">ayer</option>
                <option value="nunca">nunca</option>
              </select>
            </td>
          </tr>
        </table>

        <p class="mini-title">Leo dos versiones</p>
        <div class="vf-row">
          <p>Marca la versi√≥n que se lee mejor como fragmento de autobiograf√≠a.</p>
          <p><strong>Versi√≥n A:</strong> ‚ÄúNac√≠ en el ejido, vivo con mis pap√°s, jugar√© futbol, luego aprend√≠ a leer y ma√±ana fui al r√≠o.‚Äù</p>
          <p><strong>Versi√≥n B:</strong> ‚ÄúNac√≠ en el ejido y viv√≠ mi infancia rodeado de √°rboles. Despu√©s aprend√≠ a leer y, con el tiempo, descubr√≠ que los libros eran como ventanas al mundo.‚Äù</p>
          <label><input type="radio" name="v" value="A"> Elijo la versi√≥n A.</label><br>
          <label><input type="radio" name="v" value="B"> Elijo la versi√≥n B.</label>
        </div>

        <div class="vf-row">
          <p>Marca las afirmaciones correctas:</p>
          <label><input type="checkbox" id="ckT1"> En una autobiograf√≠a casi siempre se habla de cosas que ya pasaron.</label><br>
          <label><input type="checkbox" id="ckT2"> Los conectores temporales ayudan a que el texto no sea una lista de oraciones separadas.</label><br>
          <label><input type="checkbox" id="ckT3"> Es mejor cambiar de tiempo verbal muchas veces para que el texto se vea ‚Äúdecorado‚Äù.</label>
        </div>

        <div class="btn-row">
          <button class="btn btn-primary" type="button" onclick="checkPractice()">Comprobar</button>
        </div>
        <div id="fbPractice" style="margin-top:4px;font-size:.82rem;"></div>
      </section>

      <!-- SECCI√ìN 3 -->
      <section class="section-panel" id="sec-3">
        <div class="section-header">
          <h2><span class="icon">‚úçÔ∏è</span><span>Secci√≥n 3. Escribo: fragmento de mi autobiograf√≠a</span></h2>
          <span class="section-badge">Producci√≥n de texto</span>
        </div>
        <p>Escribe un fragmento de tu autobiograf√≠a (entre <strong>8 y 12 oraciones</strong>) donde cuentes un momento importante de tu vida. Usa al menos <strong>tres conectores temporales</strong> (por ejemplo: primero, despu√©s, luego, m√°s tarde, finalmente, cuando, al principio, con el tiempo) y verbos en <strong>pasado</strong>.</p>

        <textarea id="autoText" placeholder="Ejemplo de inicio: Cuando ten√≠a siete a√±os, comenc√© una etapa muy importante en mi vida..."></textarea>

        <div class="btn-row">
          <button class="btn btn-primary" type="button" onclick="checkWriting()">Revisi√≥n r√°pida</button>
        </div>
        <div id="fbWriting" style="margin-top:4px;font-size:.82rem;"></div>
      </section>

      <!-- SECCI√ìN 4 -->
      <section class="section-panel" id="sec-4">
        <div class="section-header">
          <h2><span class="icon">üìã</span><span>Secci√≥n 4. Eval√∫o: hoja de resultados</span></h2>
          <span class="section-badge">Autovaloraci√≥n</span>
        </div>
        <p>Con la siguiente hoja de resultados podr√°s saber c√≥mo vas en este PDA al <strong>usar tiempos verbales coherentes y conectores temporales</strong> en tu autobiograf√≠a.</p>

        <div class="btn-row">
          <button class="btn btn-primary" type="button" onclick="generateResults()">Generar hoja de resultados</button>
          <button class="btn btn-outline" type="button" onclick="window.print()">üñ®Ô∏è Imprimir ODA</button>
        </div>

        <!-- HOJA DE RESULTADOS -->
        <div id="resultsPanel" class="results-card" style="display:none;">
          <h3 style="margin:0 0 4px;color:#7f1d1d;display:flex;align-items:center;gap:6px;">
            <span>üìä</span><span>Hoja de resultados ‚Äì Tejiendo mi historia</span>
          </h3>
          <p><strong>Alumno(a):</strong> <span id="resName"></span></p>
          <ul class="list">
            <li><span id="res1"></span></li>
            <li><span id="res2"></span></li>
            <li><span id="res3"></span></li>
          </ul>
          <p><strong>Comentario del maestro Mart√≠n:</strong></p>
          <p id="resComment"></p>
          <p class="mini-title">Mi compromiso como escritor(a):</p>
          <textarea id="resCommit" placeholder="Escribe qu√© te propones hacer para mejorar el uso de tiempos verbales y conectores en tu autobiograf√≠a."></textarea>

          <div class="btn-row">
            <button class="btn btn-outline" type="button" onclick="window.print()">üñ®Ô∏è Imprimir resultados</button>
          </div>
        </div>

        <!-- HOJA DE ACTIVIDADES IMPRIMIBLE -->
        <div class="activity-sheet" id="activitySheet">
          <h3><span>üìÑ</span><span>Hoja de actividades ‚Äì Tiempos verbales y conectores</span></h3>
          <p><strong>Nombre del alumno(a):</strong> _________________________________   <strong>Grado y grupo:</strong> __________</p>
          <p><strong>Instrucciones:</strong> Responde con letra clara. Esta hoja se puede trabajar en el cuaderno o entregarse al maestro.</p>

          <p class="mini-title">1. Subrayo conectores temporales</p>
          <p>Lee el siguiente fragmento y subraya al menos <strong>cuatro conectores temporales</strong>:</p>
          <p>‚Äú<em>Cuando</em> llegu√© a esta escuela me sent√≠a nervioso. <em>Al principio</em> apenas hablaba con mis compa√±eros, pero <em>con el tiempo</em> fui haciendo amigos. <em>Despu√©s</em> de participar en la primera asamblea, me sent√≠ m√°s seguro y, <em>finalmente</em>, comprend√≠ que este lugar tambi√©n pod√≠a ser mi casa.‚Äù</p>

          <p class="mini-title">2. Corrijo tiempos verbales</p>
          <p>Reescribe las oraciones para que todos los verbos est√©n en pasado.</p>
          <ol class="list">
            <li>Ahora vivo con mis abuelos y juego en el patio todos los d√≠as.</li>
            <li>Ma√±ana entro a primero de primaria y siento miedo.</li>
          </ol>
          <span class="line"></span>
          <span class="line"></span>
          <span class="line"></span>
          <span class="line"></span>

          <p class="mini-title">3. Escribo con conectores</p>
          <p>Escribe un peque√±o p√°rrafo (5 oraciones) donde cuentes un recuerdo de tu infancia usando al menos <strong>tres conectores temporales</strong>.</p>
          <span class="line"></span>
          <span class="line"></span>
          <span class="line"></span>
          <span class="line"></span>
        </div>
      </section>

      <!-- RINC√ìN DEL LECTOR -->
      <section class="reader-corner">
        <h3><span>üåü</span><span>Rinc√≥n del lector</span></h3>
        <p class="reader-quote">‚ÄúLos conectores son los hilos y los tiempos verbales son los colores: con ambos tejes la manta de tu historia.‚Äù</p>
        <p class="reader-author">‚Äî Comunidad lectora de la escuela</p>
      </section>
    </main>

    <footer>
      <span class="project">Proyecto: ‚ÄúMi historia, mi voz, mi camino‚Äù</span>
      <span>Campo formativo: Lenguajes ¬∑ Fase 5</span>
      <span>¬© 2025. Dise√±o de ODA: Mtro. Mart√≠n Reta. Material educativo. Prohibida su venta.</span>
    </footer>
  </div>

  <script>
    function setSection(n){
      document.querySelectorAll('.pill-tab').forEach(btn=>{
        btn.classList.toggle('active', Number(btn.dataset.sec)===n);
      });
      document.querySelectorAll('.section-panel').forEach((sec,idx)=>{
        sec.classList.toggle('active', idx===n-1);
      });
    }

    function toggleFlip(card){
      card.classList.toggle('flipped');
    }

    function playGuide(){
      try{
        const msg=new SpeechSynthesisUtterance(
          'En esta ODA vas a practicar c√≥mo usar conectores temporales y tiempos verbales del pasado para escribir un fragmento de tu autobiograf√≠a que sea claro y tenga buena fluidez.'
        );
        msg.lang='es-MX';
        msg.rate=1;
        msg.pitch=1;
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(msg);
      }catch(e){
        console.error(e);
      }
    }

    function checkPractice(){
      const c1=document.getElementById('c1').value;
      const c2=document.getElementById('c2').value;
      const c3=document.getElementById('c3').value;
      const v=document.querySelector('input[name="v"]:checked');
      const ckT1=document.getElementById('ckT1').checked;
      const ckT2=document.getElementById('ckT2').checked;
      const ckT3=document.getElementById('ckT3').checked;
      const fb=document.getElementById('fbPractice');

      const okConn = (c1==='cuando' && c2==='luego' && c3==='finalmente');
      const okVersion = v && v.value==='B';
      const okChecks = (ckT1 && ckT2 && !ckT3);

      let aciertos = 0;
      if(okConn) aciertos++;
      if(okVersion) aciertos++;
      if(okChecks) aciertos++;

      if(aciertos===3){
        fb.innerHTML='<span class="result-good">‚úî Muy bien. Usas conectores adecuados, eliges la versi√≥n m√°s clara y comprendes la importancia de los tiempos verbales.</span>';
      }else if(aciertos===2){
        fb.innerHTML='<span class="result-bad">Vas por muy buen camino. Revisa la parte en la que tuviste dudas y vuelve a intentarlo.</span>';
      }else{
        fb.innerHTML='<span class="result-bad">Revisa de nuevo las oraciones y el ejemplo. Observa qu√© conectores dan mejor sentido y c√≥mo se usan los verbos en pasado.</span>';
      }
    }

    function checkWriting(){
      const text=document.getElementById('autoText').value;
      const fb=document.getElementById('fbWriting');
      const words=text.trim().split(/\s+/).filter(Boolean);
      const len=words.length;

      const conectores=['primero','despu√©s','luego','m√°s tarde','mas tarde','finalmente','cuando','al principio','con el tiempo','al d√≠a siguiente','al dia siguiente','mientras','entonces'];
      let conectoresUsados=0;
      const textLower=text.toLowerCase();
      conectores.forEach(c=>{
        if(textLower.includes(c)) conectoresUsados++;
      });

      // conteo muy simple de terminaciones de pasado
      const terminaciones=['√©','√≠','aba','√≠a','aste','iste','aron','aban','√≠an'];
      let verbospasado=0;
      words.forEach(w=>{
        const lw=w.toLowerCase().replace(/[.,;:!?¬°¬ø"]/g,'');
        if(terminaciones.some(t=>lw.endsWith(t))) verbospasado++;
      });

      let msg='';
      if(len===0){
        msg='A√∫n no escribes tu fragmento. Intenta contar un momento importante de tu vida usando al menos tres conectores temporales.';
      }else{
        msg+='Has escrito aproximadamente '+len+' palabras. ';
        if(conectoresUsados>=3){
          msg+='Se observan varios conectores temporales, lo cual da buena fluidez a tu texto. ';
        }else{
          msg+='Te falta usar m√°s conectores temporales; intenta agregar palabras como ‚Äúprimero‚Äù, ‚Äúdespu√©s‚Äù, ‚Äúluego‚Äù o ‚Äúfinalmente‚Äù. ';
        }
        if(verbospasado>=4){
          msg+='La mayor√≠a de tus verbos parecen estar en pasado, lo que es adecuado para una autobiograf√≠a.';
        }else{
          msg+='Revisa tus verbos: una autobiograf√≠a suele contarse en pasado (nac√≠, viv√≠, aprend√≠, sent√≠a, jugaba...).';
        }
      }

      fb.textContent=msg;
    }

    function generateResults(){
      const name=document.getElementById('studentName').value || 'Sin nombre';
      document.getElementById('resName').textContent=name;

      // Result 1: pr√°ctica de conectores y tiempos
      const c1=document.getElementById('c1').value;
      const c2=document.getElementById('c2').value;
      const c3=document.getElementById('c3').value;
      const v=document.querySelector('input[name="v"]:checked');
      const ckT1=document.getElementById('ckT1').checked;
      const ckT2=document.getElementById('ckT2').checked;
      const ckT3=document.getElementById('ckT3').checked;

      const okConn = (c1==='cuando' && c2==='luego' && c3==='finalmente');
      const okVersion = v && v.value==='B';
      const okChecks = (ckT1 && ckT2 && !ckT3);

      const r1=document.getElementById('res1');
      if(okConn && okVersion && okChecks){
        r1.innerHTML='<span style="color:#1d4ed8;">Elige conectores adecuados y reconoce el uso correcto de tiempos verbales en ejemplos de autobiograf√≠a.</span>';
      }else{
        r1.innerHTML='<span style="color:#b91c1c;">Necesita reforzar el uso de conectores y la coherencia en los tiempos verbales.</span>';
      }

      // Result 2: producci√≥n escrita
      const text=document.getElementById('autoText').value;
      const words=text.trim().split(/\s+/).filter(Boolean);
      const len=words.length;
      const conectores=['primero','despu√©s','luego','m√°s tarde','mas tarde','finalmente','cuando','al principio','con el tiempo','al d√≠a siguiente','al dia siguiente','mientras','entonces'];
      let conectoresUsados=0;
      const textLower=text.toLowerCase();
      conectores.forEach(c=>{
        if(textLower.includes(c)) conectoresUsados++;
      });
      const r2=document.getElementById('res2');

      if(len>=60 && conectoresUsados>=3){
        r2.innerHTML='<span style="color:#1d4ed8;">Escribe un fragmento autobiogr√°fico amplio usando conectores temporales que dan fluidez al texto.</span>';
      }else if(len>0){
        r2.innerHTML='<span style="color:#b91c1c;">Ha escrito un fragmento, pero puede ampliarlo y usar m√°s conectores temporales.</span>';
      }else{
        r2.innerHTML='<span style="color:#b91c1c;">A√∫n no produce un fragmento autobiogr√°fico para evaluar su uso de conectores.</span>';
      }

      // Result 3: uso de tiempos verbales
      const terminaciones=['√©','√≠','aba','√≠a','aste','iste','aron','aban','√≠an'];
      let verbospasado=0;
      words.forEach(w=>{
        const lw=w.toLowerCase().replace(/[.,;:!?¬°¬ø"]/g,'');
        if(terminaciones.some(t=>lw.endsWith(t))) verbospasado++;
      });
      const r3=document.getElementById('res3');
      if(verbospasado>=4){
        r3.innerHTML='<span style="color:#1d4ed8;">Utiliza principalmente tiempos verbales del pasado para narrar su experiencia.</span>';
      }else if(len>0){
        r3.innerHTML='<span style="color:#b91c1c;">Ha comenzado a escribir, pero necesita usar m√°s verbos en pasado para dar coherencia al relato.</span>';
      }else{
        r3.innerHTML='<span style="color:#b91c1c;">A√∫n no se puede valorar el uso de tiempos verbales porque no ha escrito su fragmento.</span>';
      }

      let score=0;
      if(okConn && okVersion && okChecks) score++;
      if(len>=60 && conectoresUsados>=3) score++;
      if(verbospasado>=4) score++;

      const comment=document.getElementById('resComment');
      if(score===3){
        comment.textContent='¬°Excelente! Tu autobiograf√≠a tiene buena fluidez: usas conectores temporales y tiempos verbales coherentes.';
      }else if(score===2){
        comment.textContent='Vas muy bien. Refuerza el aspecto que aparece en rojo para que tu texto sea todav√≠a m√°s claro.';
      }else{
        comment.textContent='Sigue practicando. Leer y escribir m√°s fragmentos autobiogr√°ficos te ayudar√° a mejorar tus tiempos verbales y conectores.';
      }

      document.getElementById('resultsPanel').style.display='block';
      setSection(4);
      document.getElementById('resultsPanel').scrollIntoView({behavior:'smooth'});
    }
  </script>
</body>
</html>
